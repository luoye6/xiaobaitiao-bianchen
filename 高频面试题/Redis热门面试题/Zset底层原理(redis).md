# Zset底层原理(redis)

> 本文作者：[程序员小白条](https://github.com/luoye6)
>
> 本站地址：[https://xbt.xiaobaitiao.top](https://xbt.xiaobaitiao.top)
> 
在Redis中，Zset（有序集合）是一种特殊的数据结构，它是使用跳跃表（Skip List）和哈希表（Hash Table）结合实现的。Zset的底层基本原理如下：

1. 跳跃表（Skip List）：跳跃表是一种有序链表的数据结构，其中的每个节点都包含一个分值和一个成员。跳跃表通过维护多层索引，可以快速地进行插入、删除和查找操作。在Zset中，每个节点表示一个有序集合的成员。
2. 哈希表（Hash Table）：在Zset中，哈希表主要用于存储成员和分值的映射关系。通过哈希表，可以快速根据成员查找对应的分值。
3. 双向链表（Linked List）：为了支持按照分值排序的功能，Zset还使用了双向链表作为辅助结构。在双向链表中，每个节点都保存了一个分值，该分值与分值索引中的节点对应。

具体实现上，Redis中的Zset会同时维护跳跃表和哈希表，跳跃表以分值作为排序依据，哈希表用来根据成员进行快速查找。通过这两个数据结构的结合使用，Zset能够在O(log N)的时间复杂度内完成插入、删除和查找操作。

在内部实现上，Redis的Zset通过跳跃表和哈希表的数据结构，实现了按照分值和成员的有序性。同时，Redis还使用了一些优化技巧，例如“压缩列表”（ziplist）存储短小的跳跃表和哈希表，以减少内存占用。

总结来说，Zset底层通过跳跃表和哈希表的数据结构实现有序性和快速查找，通过双向链表辅助排序功能。这种实现方式使得Zset在Redis中能够高效地处理有序集合的操作。
